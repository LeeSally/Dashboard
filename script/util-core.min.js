var sr={};function Collection(){this.elements=[],Collection.prototype.size=function(){return this.elements.length},Collection.prototype.has=function(e){for(var t=0;t<this.elements.length;t++)if(this.elements[t].key==e)return!0;return!1},Collection.prototype.remove=function(e){for(var t=0;t<this.elements.length;t++)if(this.elements[t].key==e)return this.elements.splice(t,1),!0;return!1},Collection.prototype.set=function(e,t){return!this.has(e)&&(this.elements.push({key:e,value:t}),!0)},Collection.prototype.get=function(e){for(var t=0;t<this.elements.length;t++)if(this.elements[t].key==e)return this.elements[t].value;return null},Collection.prototype.item=function(e){return e<this.elements.length?this.elements[e].value:null},Collection.prototype.clear=function(){for(;0<this.elements.length;)this.elements.shift()}}function DataSet(){this.values=[],DataSet.prototype.size=function(){return this.values.length},DataSet.prototype.has=function(e){for(var t=0;t<this.values.length;t++)if(this.values[t]==e)return!0;return!1},DataSet.prototype.get=function(e){return e<this.size()&&0<=e?this.values[e]:null},DataSet.prototype.remove=function(e){for(var t=0;t<this.values.length;t++)if(this.values[t]==e)return this.values.splice(t,1),!0;return!1},DataSet.prototype.add=function(e){return!this.has(e)&&(this.values.push(e),!0)},DataSet.prototype.clear=function(){for(var e=0;e<this.values.length;e++)this.remove(this.values[e])}}sr.BrowserUtil={isIE:function(){return-1==navigator.userAgent.indexOf("Firefox")&&-1==navigator.userAgent.indexOf("Chrome")},getAppName:function(){var e=navigator.appVersion;parseFloat(e);navigator.userAgent.indexOf("Firefox")},getAppVer:function(){navigator.appName;return navigator.appVersion.split(";")[1].replace(/[ ]/g,"")}},sr.EventUtil={add:function(e,t,s,a){e.addEventListener?e.addEventListener(t,s,a):e.attachEvent?e.attachEvent("on"+t,s):e["on"+t]=s},throttle:function(a,r,n){var i,l=+Date.now();return function(){var e=this,t=arguments,s=+Date.now();clearTimeout(i),n<=s-l?(a.apply(e,t),l=s):i=setTimeout(function(){a.apply(e,t)},r)}}},sr.NumUtil={trimBigNum:function(e,t){return 1e8<=e?(e/1e9).toFixed(2)+"B":1e5<=e?(e/1e6).toFixed(2)+"M":1e3<=e?(e/1e3).toFixed(2)+"K":e.toFixed(t)}},sr.ClassUtil={has:function(e,t){var s=new RegExp("(\\s+|^)"+t+"(\\s+|$)");return 0<=e.className.search(s)},add:function(e,t){e.classList?e.classList.add(t):sr.ClassUtil.has(e,t)||(e.className=e.className+" "+t)},remove:function(e,t){if(sr.ClassUtil.has(e,t)){var s=new RegExp("(\\s+|^)"+t+"(\\s+|$)");e.className=e.className.replace(s," ")}},toggle:function(e,t){sr.ClassUtil.has(e,t)?sr.ClassUtil.remove(e,t):sr.ClassUtil.add(e,t)}},sr.StyleUtil={has:function(e,t){var s=new RegExp("(;\\s*|\\s+|^)"+t+"\\s*:","i");return 0<=e.style.cssText.search(s)},set:function(e,t,s){try{e.style.setProperty?e.style.setProperty(t,s):sr.StyleUtil.has(e,t)?(sr.StyleUtil.del(e,t),e.style.cssText=e.style.cssText+";"+t+":"+s+";"):0==e.style.cssText.length?e.style.cssText=t+":"+s+";":e.style.cssText=e.style.cssText.trim()+";"+t+":"+s+";"}catch(e){console.log("Fail to set style: "+t+":"+s),console.log(e)}},get:function(e,t){if(e.style.getPropertyValue)return e.style.getPropertyValue(t);var s=new RegExp("(;\\s*|\\s+|^)"+t+"\\s*:[^\n\r;]+(;|$)","i"),a=e.style.cssText.match(s)[0].split(":")[1].replace(";","");return a=a.replace(/\s*/g,"")},del:function(e,t){if(sr.StyleUtil.has(e,t)){var s=new RegExp("(;\\s*|\\s+|^)"+t+"\\s*:[^\n\r;]+(;|$)","i");e.style.cssText=e.style.cssText.replace(s," ")}}},sr.MouseUtil={getEventPosition:function(e){e=e||window.event;var t=0,s=0;try{t=e.offsetX,s=e.offsetY}catch(e){console.log("Fail to get Mouse position:"),console.log(e)}return{x:t,y:s}},getLayerPosition:function(e){e=e||window.event;var t=0,s=0;try{!e.layerX&&0!=e.layerX||(t=e.layerX,s=e.layerY)}catch(e){console.log("Fail to get Mouse position:"),console.log(e)}return{x:t,y:s}}},sr.DateUtil={getDate:function(e){if(e.getFullYear)return new Date(e);var t=null,s=null;if(0<=e.indexOf("/")?t=e.split("/"):0<=e.indexOf(".")?t=e.split("."):0<=e.indexOf("-")&&(t=e.split("-")),3==t.length){var a=t[0],r=t[1],n=t[2];1e3<=a&&a<=3e3&&0<=n&&1<=r&&r<=12&&(1==r||3==r||5==r||7==r||8==r||10==r||12==r?n<=31&&(s=new Date(a,r-1,n)):4==r||6==r||9==r||11==r?n<=30&&(s=new Date(a,r-1,n)):2==r&&(a%4==0&&0<a%100||a%400==0?n<=29&&(s=new Date(a,r-1,n)):n<=28&&(s=new Date(a,r-1,n))))}return s},getWeekName:function(e,t){if("www"==t)switch(e%7){case 0:return"Sun";case 1:return"Mon";case 2:return"Tue";case 3:return"Wed";case 4:return"Thr";case 5:return"Fri";case 6:return"Sat"}else if("wwww"==t)switch(e%7){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday"}},format:function(e,t){if(this.date=sr.DateUtil.getDate(e),!this.date)return"";this.year=this.date.getFullYear(),this.month=this.date.getMonth()+1,this.day=this.date.getDate(),this.formula=t.toLowerCase();var s=this.formula;if(0<=this.formula.indexOf("yyyy")?s=s.replace("yyyy",this.year):0<=t.indexOf("yy")&&(s=s.replace("yy",this.year.toString().slice(2,4))),0<=this.formula.indexOf("mmmm")){var a="";switch(this.month){case 1:a="January";break;case 2:a="February";break;case 3:a="March";break;case 4:a="April";break;case 5:a="May";break;case 6:a="June";break;case 7:a="July";break;case 8:a="August";break;case 9:a="September";break;case 10:a="October";break;case 11:a="November";break;case 12:a="December"}s=s.replace("mmmm",a)}else if(0<=this.formula.indexOf("mmm")){a="";switch(this.month){case 1:a="Jan";break;case 2:a="Feb";break;case 3:a="Mar";break;case 4:a="Apr";break;case 5:a="May";break;case 6:a="Jun";break;case 7:a="Jul";break;case 8:a="Aug";break;case 9:a="Sep";break;case 10:a="Oct";break;case 11:a="Nov";break;case 12:a="Dec"}s=s.replace("mmm",a)}else 0<=this.formula.indexOf("mm")?2==this.month.toString().length?s=s.replace("mm",this.month):this.month.toString().length<=1&&(s=s.replace("mm","0"+this.month)):0<=t.indexOf("m")&&(s=s.replace("m",this.month));return 0<=this.formula.indexOf("dd")?2==this.day.toString().length?s=s.replace("dd",this.day):this.day.toString().length<=1&&(s=s.replace("dd","0"+this.day)):0<=this.formula.indexOf("d")&&(s=s.replace("m",this.day)),s},getWeekStartDay:function(e){if(this.date=sr.DateUtil.getDate(e),!this.date)return null;var t=new Date(this.date),s=t.getDay()||7;return t.setDate(t.getDate()-s+1),t},getWeekEndDay:function(e){if(this.date=sr.DateUtil.getDate(e),!this.date)return null;var t=new Date(this.date);return(t=sr.DateUtil.getWeekStartDay(this.date)).setDate(t.getDate()+6),t},getMonthStartDay:function(e){if(this.date=sr.DateUtil.getDate(e),!this.date)return null;var t=new Date(this.date);return t.setDate(1),t},getMonthEndDay:function(e){return this.date=sr.DateUtil.getDate(e),this.date?(tmpDate=new Date(this.date.getFullYear(),this.date.getMonth()+1,0),tmpDate):null},get10YearsStart:function(e){if(e.getFullYear()%10)var t=e.getFullYear()-e.getFullYear()%10;else t=e.getFullYear()-10;return t}},sr.CookieUtil={get:function(e){for(var t=document.cookie.split(";"),s=t.length,a="",r=0;r<s;r++){var n=t[r];if(0==n.indexOf(e)||1==n.indexOf(e)){a=n.substring(n.indexOf("=")+1,n.length);break}}return a},set:function(e,t,s){s=new Date((new Date).getTime()+864e5),document.cookie=e+"="+t+"; expires="+s.toGMTString()+";"}},sr.HttpUtil={send:function(e,t,s,a){var r;(r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveObject("Microsoft.XMLHTTP")).onreadystatechange=function(){if(4==r.readyState&&200==r.status){var e=r.responseText,t=JSON.parse(e);s(t)}else s()},"POST"==t?(r.open("POST",e,!0),r.setRequestHeader("content-type","application/json"),r.send(a)):(r.open("GET",e,!0),r.send())}},String.prototype.trim=function(){var e=this;whitespace=" \n\r\t\f\v            ​\u2028\u2029 u3000";var t=0;for(e.length;t=0;t--)if(-1===whitespace.indexOf(e.charAt(t))){e=e.substring(0,t,1);break}return-1===whitespace.indexOf(e.charAt(0))?e:""};